<!DOCTYPE html>

<html lang="PT-BR">

    <head>

        <meta charset="UTF-8">

        <title>Login | Buchera vet</title>

        <link id="estilo" rel="stylesheet" href="css/consulta.css">

        <link rel="icon" type="image/png" href="/imagens/icon.png">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
        <script type="text/javascript">
            // Carrega a biblioteca de gráficos do Google Charts
            google.charts.load("current", {packages:["corechart", "bar"]});
        
            // Define a função drawChart como callback para ser executada após a biblioteca carregar
            google.charts.setOnLoadCallback(drawChart);
            
            function drawChart() {
                // Obtém os dados das consultas (inverte a ordem para colocar os mais recentes primeiro)
                const informacoes = consultas.reverse();
        
                // Cria a tabela de dados para o gráfico
                var data = google.visualization.arrayToDataTable([
                    ['DataConsulta', 'Peso(KG)'], // Cabeçalhos das colunas
                    [informacoes[0].data, informacoes[0].peso],  // Primeira consulta (data e peso)
                    [informacoes[1].data, informacoes[1].peso],  // Segunda consulta
                    [informacoes[2].data, informacoes[2].peso],  // Terceira consulta
                    [informacoes[3].data, informacoes[3].peso],  // Quarta consulta
                    [informacoes[4].data, informacoes[4].peso],  // Quinta consulta
                ]);
        
                // Configurações do gráfico
                var options = {
                    title: 'Peso do seu Pet ao Longo das Consultas', // Título do gráfico
                    chartArea: {width: '60%'}, // Define a largura da área de desenho do gráfico
                    hAxis: { // Configurações do eixo horizontal (hAxis)
                        title: 'Peso em Kg', // Título do eixo
                        minValue: 0, // Valor mínimo do eixo
                        maxValue: 30 // Valor máximo do eixo
                    },
                    vAxis: { // Configurações do eixo vertical (vAxis)
                        title: 'Data da Consulta' // Título do eixo
                    },
                    colors: ['#4CAF50'] // Define a cor da barra
                };
        
                // Cria um gráfico de barras no elemento com o ID 'chart_div'
                var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        
                // Desenha o gráfico usando os dados e as opções configuradas
                chart.draw(data, options);
            }
        </script>
        
    </head>

    <body>

        <header>

            <a onclick="voltar()" id="voltar">Voltar</a>

            <a href="index.html">

                <img src="/imagens/logotipo.png" id="logo1" alt="logotipo">
                
            </a>

            <i id="tema" onclick="trocarTema()" class="fa-solid fa-circle-half-stroke fa-rotate-180 temaCor"></i>

            <a onclick="avancar()" id="avancar">Avançar</a>

        </header>

        <div class="consulta">

            <form id="consultar">

                <fieldset>
            
                    <h3>Agende uma consulta!</h3>
            
                    <input type="text" id="nomePet" placeholder="Insira o nome do pet" required>
        
                    <input type="text" id="nomeDono" placeholder="Insira o nome do Dono" required>

                    <input type="number" id="pesoPet" placeholder="Insira o peso do Pet" required>
                    
                    <div id="tipos">

                        <select form="consultar" name="tipo" required id="tipo">

                            <option value="0" selected disabled>Especialidade Veterinária</option>

                            <option value="1">Clínica Geral</option>

                            <option value="2">Cardiologista</option>

                            <option value="3">Odontológico</option>

                            <option value="4">Dermatologista</option>

                            <option value="5">Comportamental</option>

                        </select>

                    </div>
            
                    <div id="medicos">

                        <select form="consultar" name="medicos" required id="medico">

                            <option value="0" selected disabled>Médico Responsável</option>

                            <option value="1">Qualquer Médico</option>

                            <option value="2">Dr. Caio Yudi Mine Hada </option>

                            <option value="3">Dr. Levi Rodrigues</option>

                            <option value="4">Dr. Murillo Levis</option>

                            <option value="5">Dr. Daniel Evangelista</option>

                            <option value="6">Dr. Rafael Burbach</option>

                        </select>

                    </div>
        
                    <input type="date" id="dataConsulta" required>

                    <input type="time" id="horaConsulta" name="hora" min="07:30" max="19:30" required />
            
                    <button type="submit" id="agendar">Agendar</button>


                </fieldset>

            </form>        
            

        </div>
        
        <div id="consultaSalva" style="display: block;">
            <div id="consultas">
                
            </div>
            <div id="chart_div" style="width: 40vw; height: 25vw;"></div>
            <p id="marcarmais" onclick="marcarmais()">Marcar mais consultas</p>
        </div>
        
        <footer>

            <div id="rodape">

                <a href="index.html" class="logotipo">

                    <img class="logo" src="/imagens/logotipo.png" alt="logotipo" id="logo2">

                </a>

                <div id="copy">

                    <span>&copy; Todos os direitos reservados</span>

                </div>

            </div>

        </footer>
        
    </body>

    <script src="js/consulta.js"></script>
    
</html>